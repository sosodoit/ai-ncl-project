{% extends "base.html" %}
{% block title %}DB ì¡°íšŒ{% endblock %}
{% block content %}

<h2>í…Œì´ë¸” ì¡°íšŒ</h2>

<!-- í…Œì´ë¸” ì„ íƒ í¼ -->
<form method="get" action="/select-table" class="table-select-form">
    <select name="table_name">
        {% for t in tables %}
            <option value="{{ t }}" {% if t == table_name %}selected{% endif %}>{{ t }}</option>
        {% endfor %}
    </select>
    <button type="submit">ì¡°íšŒ</button>
</form>

<!-- ì„ íƒëœ í…Œì´ë¸” ê²°ê³¼ -->
{% if table_name %}
    <h3 style="margin-top: 2rem;">ğŸ“„ {{ table_name }} í…Œì´ë¸”</h3>

    {% if rows %}
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        {% for col in columns %}
                            <th>{{ col }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows %}
                        <tr>
                            {% for cell in row %}
                                <td>{{ cell }}</td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p class="message">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
{% endif %}

{% endblock %}